<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./lib/bootstrap-4.1.3/css/bootstrap.min.css">
    <script src="https://cdn.staticfile.org/jquery/3.2.1/jquery.min.js"></script>
    <script src="./lib/bootstrap-4.1.3/js/bootstrap.min.js"></script>
    <title>咸鱼的前端练习集合</title>
</head>
<style>
    html {
        font-size: 62.5%;
    }

    body {
        background-color: #9cc4b2;
        display: flex;
        justify-content: center;
        align-items: center;
        height: 100vh;
        width: 100vw;
        margin: 0;
    }

    #content {
        height: 80vh;
        width: 80vw;
        position: absolute;
        z-index: 2;
    }

    .group {
        padding-bottom: 1rem;
    }

    .group-title {
        font-size: 1.8rem;
        color: #99CCFF;
        ;
    }

    .link-list {
        list-style: none;
    }

    .link-item {
        display: inline-block;
        padding-left: 1rem;
        padding-right: 1rem;
        border-radius: 1em;
        background-color: brown;
        cursor: pointer;
    }

    .link {
        text-decoration: none;
        font-size: 1.6rem;
        color: rgba(255, 255, 255, .7);
    }
</style>

<body>

    <div class="container" id="content">
        <ul class="nav nav-pills" role="tablist">
            <li class="nav-item">
                <a class="nav-link active" data-toggle="pill" href="#css">CSS基础</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" data-toggle="pill" href="#effects">前端效果集锦</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" data-toggle="pill" href="#js">JS基础</a>
            </li>
        </ul>

        <!-- Tab panes -->
        <div class="tab-content">
            <div id="css" class="container tab-pane active"><br>
                <div class="group">
                    <p class="group-title">css布局</p>
                    <ul class="link-list">
                        <li class="link-item"><a class="link" href="./css/layout/flex.html">一维布局-flex</a></li>
                        <li class="link-item"><a class="link" href="./css/layout/flex.html">二维布局-grid</a></li>
                    </ul>
                </div>
                <div class="group">
                    <p class="group-title">css基础属性</p>
                    <ul class="link-list">
                        <li class="link-item"><a class="link" href="./css/basics/shadow.html">阴影box-shadow</a></li>
                        <li class="link-item"><a class="link" href="./css/basics/border-radius.html">圆角矩形border-radius</a></li>
                        <li class="link-item"><a class="link" href="./css/basics/background-img.html">背景图片background-img</a></li>
                    </ul>
                </div>
                <div class="group">
                    <p class="group-title">css动画</p>
                    <ul class="link-list">
                        <li class="link-item"><a class="link" href="./css/animation/transform.html">transform动画</a></li>
                    </ul>
                </div>
                <div class="group">
                    <p class="group-title">css综合</p>
                    <ul class="link-list">
                        <li class="link-item"><a class="link" href="./css/comprehensive/horizontal-center.html">水平居中的几种方式</a></li>
                    </ul>
                </div>
            </div>
            <div id="effects" class="container tab-pane fade"><br>
                <div class="group">
                    <p class="group-title">前端效果</p>
                    <ul class="link-list">
                        <li class="link-item"><a class="link" href="./effects/butterfly/index.html">蝴蝶飞舞</a></li>
                        <li class="link-item"><a class="link" href="./effects/边框动画.html">边框动画</a></li>
                        <li class="link-item"><a class="link" href="./effects/time-line.html">纯HTML CSS时间轴</a></li>
                        <li class="link-item"><a class="link" href="./effects/click-stars.html">鼠标点击生成小心心</a></li>
                        <li class="link-item"><a class="link" href="./effects/边框动画.html">边框动画</a></li>
                    </ul>
                </div>
            </div>
            <div id="js" class="container tab-pane fade"><br>
                <div class="group">
                    <p class="group-title">js基础</p>
                    <ul class="link-list">
                        <li class="link-item"><a class="link" href="./js/loadScript.html">动态创建script标签并执行</a></li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

</body>

<script>
    (function (window, document) {

        var Vector2 = (function () {
            function Vector2(x, y) {
                this.x = x || 0;
                this.y = y || 0;
            }
            return Vector2;
        })();

        Vector2.prototype.add = function (addend) {
            this.x += addend.x;
            this.y += addend.y;
        };

        var RainDrop = (function () {
            function RainDrop(parent) {
                this.size = 2;
                this.parent = parent;
                this.init();
            }
            return RainDrop;
        })();

        RainDrop.prototype.init = function () {
            this.life = 0;
            this.ttl = Math.random() * 500 + 300;
            this.position = new Vector2(Math.random() * window.innerWidth, 0);
            this.velocity = new Vector2(0.5 - Math.random() * 1, Math.random() * 1 + 0.2);
            this.terminalVelocity = 8;
        };

        RainDrop.prototype.update = function () {
            if (this.position.x > window.innerWidth || this.position.x < -this.size || this.life > this.ttl)
                this.init();
            if (this.position.y > this.parent.floor) {
                this.position.y = this.parent.floor - this.size;
                this.velocity.y *= -0.2 - Math.random() * 0.3;
            }
            this.life++;
            this.position.add(this.velocity);
            this.velocity.y += 0.1;
        }

        var Rain = (function () {
            function Rain(args) {
                this.props = args;
                this.rainDrops = [];
                this.init();
            }
            return Rain;
        })();

        Rain.prototype.init = function () {
            this.createCanvas();
            this.resize();
            this.loop();
        };

        Rain.prototype.resize = function () {

            var attr = 'position: absolute; z-index: 0; top: 0; left: 0; height: 100vh; width: 100vw;';

            this.canvas.setAttribute('style', attr);

            this.dimensions = {
                width: window.innerWidth,
                height: window.innerHeight
            };

            this.canvas.width = this.dimensions.width;
            this.canvas.height = this.dimensions.height;
            this.floor = this.dimensions.height * 0.9;
        };

        Rain.prototype.createCanvas = function () {
            this.canvas = document.createElement('canvas');

            this.ctx = this.canvas.getContext('2d');

            document.body.appendChild(this.canvas);
        };

        Rain.prototype.draw = function () {
            this.ctx.fillStyle = this.props.backgroundColor;
            this.ctx.fillRect(0, 0, this.dimensions.width, this.floor);
            for (var i = 0, len = this.rainDrops.length; i < len; i++) {
                var rainDrop = this.rainDrops[i];
                rainDrop.update();
                this.ctx.fillStyle = this.props.rainColor;
                this.ctx.fillRect(rainDrop.position.x, rainDrop.position.y, rainDrop.size, rainDrop.size);
            }
            this.reflect();
        };

        Rain.prototype.reflect = function () {
            var grad = this.ctx.createLinearGradient(this.dimensions.width / 2, this.floor * 0.6, this
                .dimensions.width / 2, this.floor);
            grad.addColorStop(0, 'rgba(80,90,100,1)');
            grad.addColorStop(1, 'rgba(80,90,100,0)');
            this.ctx.save();
            this.ctx.scale(1, -1);
            this.ctx.translate(0, this.floor * -2);
            this.ctx.filter = 'blur(3px) saturate(150%)';
            this.ctx.drawImage(this.canvas, 0, 0, this.dimensions.width, this.floor, 0, 0, this.dimensions
                .width, this.floor);
            this.ctx.fillStyle = grad;
            this.ctx.fillRect(0, 0, this.dimensions.width, this.floor);
            this.ctx.restore();
        };

        Rain.prototype.loop = function () {
            var timeout, self = this;
            if (self.rainDrops.length < self.props.rainDropCount) {
                timeout = window.setTimeout(function () {
                    self.rainDrops.push(new RainDrop(self));
                }, Math.random() * 200);
            } else if (timeout) {
                timeout = null;
                window.clearTimeout(timeout);
            }
            self.draw();
            window.requestAnimationFrame(self.loop.bind(self));
        };

        window.onload = function () {
            var args = {
                rainDropCount: 500,
                rainColor: 'rgba(150,180,255,0.8)',
                backgroundColor: 'rgba(10,10,10,0.5)'
            };

            var rain = new Rain(args);

            window.onresize = function () {
                rain.resize();
            };
        };

        window.requestAnimationFrame = (function () {
            return window.requestAnimationFrame ||
                window.webkitRequestAnimationFrame ||
                window.mozRequestAnimationFrame ||
                window.oRequestAnimationFrame ||
                window.msRequestAnimationFrame ||
                function (callback) {
                    window.setTimeout(callback, 1000 / 60);
                };
        })();

    })(this, document);
</script>

</html>